var socket,bubbles=[],grid=[],n=0,s,passedn,passeds,passedcol,passedran,img,imgs=[],dotcolor,rancolor,totalstyles=19,c0="#d71e3d",c1="#ee0e6e",c2="#e9d380",c3="#f6a6c1",c4="#e8e8ee",c5="#12aeaa",c6="#58ad46",c7="#efdf8e",c8="#9b7fc1";function setup(){createCanvas(800,800);background(255);for(var a=0,b=60;b<=width-60;b+=60)for(var c=60;c<=height-60;c+=60){var d=floor(random(0,totalstyles)),d=new Bubble(b,c,a++,d,0,40);bubbles.push(d)}socket=io.connect();socket.on("mouse",newDrawing)}
function newDrawing(a){passedn=a.n;passeds=a.s;passedran=a.rancolor;paddedcol=a.dotcolor;bubbles[passedn].passeds=a.s;bubbles[passedn].passedran=a.rancolor;bubbles[passedn].passedcol=a.dotcolor;bubbles[passedn].update();console.log("receiving this.passeds "+passeds)}function mousePressed(){for(var a=0;a<bubbles.length;a++)bubbles[a].clicked()}function draw(){for(var a=bubbles.length-1;0<=a;a--)bubbles[a].update(),bubbles[a].display()}
function Bubble(a,b,c,d,e,f){this.dotSize=f;this.n=c;this.x=a;this.y=b;this.display=function(){this.passedran?(this.dotcolor=this.passedran,this.s=this.passeds):this.s=e;0==this.dotcolor?(this.col=c0,fill(this.col),stroke(255)):1==this.dotcolor?(this.col=c1,fill(this.col),stroke(255)):2==this.dotcolor?(this.col=c2,fill(this.col),stroke(255)):3==this.dotcolor?(this.col=c3,fill(this.col),stroke(255)):4==this.dotcolor?(this.col=c4,fill(this.col),stroke(255)):5==this.dotcolor?(this.col=c5,fill(this.col),
stroke(255)):6==this.dotcolor?(this.col=c6,fill(this.col),stroke(255)):7==this.dotcolor?(this.col=c7,fill(this.col),stroke(255)):8==this.dotcolor?(this.col=c8,fill(this.col),stroke(255)):9==this.dotcolor?(stroke(c0),fill(255)):10==this.dotcolor?(stroke(c1),fill(255)):11==this.dotcolor?(stroke(c2),fill(255)):12==this.dotcolor?(stroke(c3),fill(255)):13==this.dotcolor?(stroke(c4),fill(255)):14==this.dotcolor?(stroke(c5),fill(255)):15==this.dotcolor?(stroke(c6),fill(255)):16==this.dotcolor?(stroke(c7),
fill(255)):17==this.dotcolor?(stroke(c8),fill(255)):18==this.dotcolor?(stroke(c8),fill(255)):(stroke("#efefef"),this.col="#ffffff",fill(this.col));ellipse(this.x,this.y,this.dotSize,this.dotSize)};this.clicked=function(){this.s=0;this.d=dist(mouseX,mouseY,this.x,this.y);this.d<this.dotSize/2?(this.col=this.rancolor=floor(random(0,totalstyles)),fill(this.col),ellipse(this.x,this.y,this.dotSize,this.dotSize),this.s=1):this.s=0;socket.emit("mouse",{n:this.n,s:this.s,rancolor:this.rancolor,dotcolor:this.dotcolor});
console.log("sending this.s "+this.s)};this.update=function(){this.dotcolor=1==this.passeds?this.passedran:this.passedcol}}function windowResized(){}function keyPressed(){keyCode!=DELETE&&keyCode!=BACKSPACE||background(255)}function keyTyped(){}window.onresize=function(){};